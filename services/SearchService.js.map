{"version":3,"file":"SearchService.js","sourceRoot":"","sources":["../../src/services/SearchService.ts"],"names":[],"mappings":"AAIA,MAAM,CAAC,OAAO,OAAO,OAAO;IAA5B;QACY,YAAO,GAAG;YAClB,aAAa,EACX,4NAA4N;YAC9N,cAAc,EAAE,gCAAgC;SACjD,CAAC;IA4BJ,CAAC;IA3BC,OAAO,CAAC,KAAa;QACnB,OAAO,OAAO,CAAC,GAAG,CAA8B;YAC9C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YACtB,IAAI,CAAC,gBAAgB,EAAE;SACxB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,aAAa,CAAC,EAAE,EAAE;YAClC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IACD,UAAU,CAAC,KAAa;QACtB,OAAO,KAAK,CACV,mDAAmD,KAAK,2CAA2C,EACnG;YACE,MAAM,EAAE,KAAK;YACb,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,WAAW,EAAE,aAAa;SAC3B,CACF,CAAC,IAAI,CAAC,CAAC,QAAkB,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAwB,CAAC,CAAC;IACxE,CAAC;IACD,gBAAgB;QACd,OAAO,KAAK,CAAC,4CAA4C,EAAE;YACzD,MAAM,EAAE,KAAK;YACb,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,WAAW,EAAE,aAAa;SAC3B,CAAC,CAAC,IAAI,CACL,CAAC,QAAkB,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,EAA+B,CACrE,CAAC;IACJ,CAAC;CACF","sourcesContent":["import APIConfiguration from \"../models/APIConfiguration.js\";\nimport APIResponse from \"../models/APIResponse.js\";\nimport APISearch from \"../models/APISearch.js\";\n\nexport default class Service {\n  protected headers = {\n    Authorization:\n      \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNjVlMjZiYWQ4OGNlYjM3ODEzMjhiYmI2MGRjMTA5NCIsInN1YiI6IjVmNzllMDBiOWE2NDM1MDAzNmE2NTdlNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cWjSac35Ni053K6oss4iD7qM9IWeM-TT2zb3DQhbACw\",\n    \"Content-Type\": \"application/json;charset=utf-8\",\n  };\n  request(query: string): Promise<APIResponse> {\n    return Promise.all<APISearch, APIConfiguration>([\n      this.getResults(query),\n      this.getConfiguration(),\n    ]).then(([search, configuration]) => {\n      return { search: search, configuration: configuration };\n    });\n  }\n  getResults(query: string): Promise<APISearch> {\n    return fetch(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&language=es-ES&page=1&include_adult=true`,\n      {\n        method: \"GET\",\n        headers: this.headers,\n        credentials: \"same-origin\",\n      }\n    ).then((response: Response) => response.json() as Promise<APISearch>);\n  }\n  getConfiguration(): Promise<APIConfiguration> {\n    return fetch(\"https://api.themoviedb.org/3/configuration\", {\n      method: \"GET\",\n      headers: this.headers,\n      credentials: \"same-origin\",\n    }).then(\n      (response: Response) => response.json() as Promise<APIConfiguration>\n    );\n  }\n}\n"]}